import{_ as Y,r as m,j as t,a as e,f as _,g}from"./app-2dde695b.js";import{L as I}from"./MemberLayout-f1a243be.js";import{I as b}from"./BottomHeader-ef5b3363.js";import{h as N}from"./moment-fbc5633a.js";import B from"./MealEditModal-abbf66d8.js";import"./index-2e4736b8.js";import"./TextInput-263d69bf.js";import"./transition-890bd04b.js";const L=()=>{const{auth:s,meals:p,mealCharge:v,due:y,totalCost:w,fixedCost:C,totalMeal:M,todaysMeal:l}=Y().props,[k,D]=m.useState(s.user.meal_status===1),h={id:void 0,break_fast:0,lunch:0,dinner:0,created_at:"",user:"",user_id:0},[x,n]=m.useState(h),[u,i]=m.useState(!1),j=a=>(D(a),g.post(route("user.meal.update"),{user_id:s.user.id,status:a})),T=(a,r,d,o,c)=>{n({id:a,break_fast:r,lunch:d,dinner:o,created_at:c}),i(!0)},E=()=>{g.post(route("user.meal.update.each"),x),i(!1),n(h)};return t("div",{children:[t("div",{className:"col-span-full mb-5",children:[e("h6",{className:"mb-4 text-xl font-bold border-b",children:"Meal"}),e("div",{className:"grid gap-4 lg:gap-8 md:grid-cols-1",children:e("div",{className:"relative p-6 rounded-xl bg-white shadow",children:e("div",{className:"space-y-2 text-white text-center",children:t("div",{className:"flex items-center justify-between space-x-2 ",children:[e("span",{className:"flex flex-col justify-left text-gray-900",children:e("span",{className:"text-xl font-medium",children:"Meal Status"})}),e("span",{children:t("label",{className:"relative inline-flex items-center mb-5 cursor-pointer",children:[e("input",{type:"checkbox",onChange:a=>j(a.target.checked),defaultChecked:k,className:"sr-only peer"}),e("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})})]})})})})]}),t("div",{className:"col-span-full mb-5 rounded-xl bg-white shadow",children:[t("div",{className:"flex items-center justify-between p-2",children:[e("div",{children:t("h6",{className:"mb-4 text-xl font-bold pt-4 px-4",children:["Stats of ",e("span",{className:"text-2xl",children:N().format("MMMM YYYY")})]})}),e(_,{href:route("user.meal.show"),className:"rounded border shadow p-4",children:e(b,{name:"FaEye"})})]}),t("div",{className:"grid gap-4 lg:gap-8 md:grid-cols-2 lg:grid-cols-2 p-5",children:[e("div",{className:"relative p-4 lg:p-6 rounded-xl bg-boxColor-300 ",children:e("div",{className:"flex items-center space-x-2 space-y-2 text-gray-900 text-sm md:text-md lg:text-xl font-medium ",children:t("div",{className:"text-xl px-4",children:[e("span",{className:"font-bold",children:"Today's Meal"}),t("span",{className:"text-blue-600 mr-4 ml-3",children:["Lunch : ",(l==null?void 0:l.lunch_total)||0]}),t("span",{className:"text-pink-600",children:["Dinner: ",(l==null?void 0:l.dinner_total)||0]})]})})}),e("div",{className:"relative p-4 lg:p-6 rounded-xl bg-boxColor-100 ",children:e("div",{className:"flex items-center space-x-2 space-y-2 text-gray-900 text-sm md:text-md lg:text-xl font-medium ",children:t("span",{children:["Total Meal : ",M]})})}),e("div",{className:"relative p-4 lg:p-6 rounded-xl bg-boxColor-200 ",children:e("div",{className:"flex items-center space-y-2 text-gray-900 space-x-2 text-sm md:text-md lg:text-xl font-medium ",children:t("span",{children:["Meal Charge : ",v," BDT"]})})}),e("div",{className:"relative p-4 lg:p-6 rounded-xl bg-boxColor-300 ",children:e("div",{className:"flex items-center space-y-2 text-gray-900 space-x-2 text-sm md:text-md lg:text-xl font-medium ",children:t("span",{children:["Total Cost : ",w," BDT"]})})}),e("div",{className:"relative p-4 lg:p-6 rounded-xl bg-boxColor-400 ",children:e("div",{className:"flex space-y-2 text-gray-900 items-center space-x-2  text-sm md:text-md lg:text-xl font-medium ",children:t("span",{children:["Fixed Cost : ",C," BDT"]})})}),e("div",{className:"relative p-4 lg:p-6 rounded-xl bg-boxColor-100 ",children:e("div",{className:"flex space-y-2 text-red-600 items-center space-x-2 text-sm md:text-md lg:text-xl font-medium ",children:t("span",{children:["Total Due : ",y," BDT"]})})})]})]}),e("div",{className:"col-span-full mb-5 rounded-xl bg-white shadow",children:e("div",{className:"grid gap-4 lg:gap-8 grid-cols-1 p-5",children:e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full whitespace-nowrap",children:[e("thead",{children:t("tr",{className:"font-bold text-left",children:[e("th",{className:"px-6 pt-5 pb-4",children:"Date"}),e("th",{className:"px-6 pt-5 pb-4",children:"Lunch"}),e("th",{className:"px-6 pt-5 pb-4",children:"Dinner"}),e("th",{className:"px-6 pt-5 pb-4",children:"Action"})]})}),e("tbody",{children:p&&p.map(({id:a,lunch:r,dinner:d,break_fast:o,is_editable:c,created_at:f},S)=>t("tr",{className:"hover:bg-gray-100 focus-within:bg-gray-100",children:[e("td",{className:"border",children:e("p",{className:"flex items-center px-6 py-4 focus:text-indigo-700 focus:outline-none",children:N(f).format("D MMM YY")})}),e("td",{className:"border",children:e("p",{className:"flex items-center px-6 py-4 focus:text-indigo-700 focus:outline-none",children:r})}),e("td",{className:"border",children:e("p",{className:"flex items-center px-6 py-4 focus:text-indigo-700 focus:outline-none",children:d})}),e("td",{className:"border w-px border-t p-3 whitespace-nowrap",children:e("div",{className:"flex items-center gap-2 justify-end",children:e("button",{disabled:!c,onClick:()=>T(a,o,r,d,f),className:`inline-flex ${c?"":" opacity-10"} items-center justify-center gap-0.5 focus:outline-none focus:underline`,children:e(b,{name:"FaEdit",className:"w-6 h-4 text-gray-400 hover:text-buttonColor-400 fill-current cursor-pointer"})})})})]},S))})]})})})}),u&&e(B,{mealData:x,setOpen:i,setMealData:n,open:u,handleConfirm:E})]})};L.layout=s=>e(I,{title:"Dashboard",children:s});export{L as default};
