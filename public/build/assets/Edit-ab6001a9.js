import{_ as z,K as V,j as c,a as o,f as E}from"./app-2dde695b.js";import{L as D}from"./Layout-8ec69a49.js";import{L as H}from"./LoadingButton-91e669a9.js";import{T as M}from"./TextInput-263d69bf.js";import{i as U,g as O,a as I,b as C,d as J}from"./_getTag-c2fddabb.js";import{g as B,i as G}from"./identity-26f5b65d.js";import{a as R,_ as K}from"./_isIndex-78cc234f.js";import{_ as X}from"./_defineProperty-f0e9a894.js";import"./index-2e4736b8.js";import"./utils-9aac24b3.js";import"./BottomHeader-ef5b3363.js";var Y=U,g=Object.create,q=function(){function e(){}return function(r){if(!Y(r))return{};if(g)return g(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),W=q;function Q(){}var v=Q,Z=W,ee=v,re=4294967295;function d(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}d.prototype=Z(ee.prototype);d.prototype.constructor=d;var h=d,te=W,ne=v;function f(e,r){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=void 0}f.prototype=te(ne.prototype);f.prototype.constructor=f;var b=f,ae=B;function ie(e,r){for(var t=-1,a=r.length,n=Array(a),i=e==null;++t<a;)n[t]=i?void 0:ae(e,r[t]);return n}var se=ie,y=O,oe=I,le=C,x=y?y.isConcatSpreadable:void 0;function _e(e){return le(e)||oe(e)||!!(x&&e&&e[x])}var pe=_e,ue=R,ce=pe;function T(e,r,t,a,n){var i=-1,_=e.length;for(t||(t=ce),n||(n=[]);++i<_;){var l=e[i];r>0&&t(l)?r>1?T(l,r-1,t,a,n):ue(n,l):a||(n[n.length]=l)}return n}var de=T,fe=de;function he(e){var r=e==null?0:e.length;return r?fe(e,1):[]}var me=he;function ve(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var be=ve,ge=be,$=Math.max;function ye(e,r,t){return r=$(r===void 0?e.length-1:r,0),function(){for(var a=arguments,n=-1,i=$(a.length-r,0),_=Array(i);++n<i;)_[n]=a[r+n];n=-1;for(var l=Array(r+1);++n<r;)l[n]=a[n];return l[r]=t(_),ge(e,this,l)}}var xe=ye;function $e(e){return function(){return e}}var we=$e,Le=we,w=X,Ne=G,Se=w?function(e,r){return w(e,"toString",{configurable:!0,enumerable:!1,value:Le(r),writable:!0})}:Ne,Ae=Se,Oe=800,Ce=16,Re=Date.now;function We(e){var r=0,t=0;return function(){var a=Re(),n=Ce-(a-t);if(t=a,n>0){if(++r>=Oe)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var Te=We,je=Ae,Pe=Te,ke=Pe(je),Fe=ke,ze=me,Ve=xe,Ee=Fe;function De(e){return Ee(Ve(e,void 0,ze),e+"")}var He=De;function Me(e,r){return r(e)}var Ue=Me,Ie=h,Je=b,Be=se,Ge=He,Ke=K,Xe=Ue;Ge(function(e){var r=e.length,t=r?e[0]:0,a=this.__wrapped__,n=function(i){return Be(i,e)};return r>1||this.__actions__.length||!(a instanceof Ie)||!Ke(t)?this.thru(n):(a=a.slice(t,+t+(r?1:0)),a.__actions__.push({func:Xe,args:[n],thisArg:void 0}),new Je(a,this.__chain__).thru(function(i){return r&&!i.length&&i.push(void 0),i}))});function Ye(e,r){var t=-1,a=e.length;for(r||(r=Array(a));++t<a;)r[t]=e[t];return r}var qe=Ye,Qe=h,Ze=b,er=qe;function rr(e){if(e instanceof Qe)return e.clone();var r=new Ze(e.__wrapped__,e.__chain__);return r.__actions__=er(e.__actions__),r.__index__=e.__index__,r.__values__=e.__values__,r}var tr=rr,nr=h,L=b,ar=v,ir=C,sr=J,or=tr,lr=Object.prototype,_r=lr.hasOwnProperty;function m(e){if(sr(e)&&!ir(e)&&!(e instanceof nr)){if(e instanceof L)return e;if(_r.call(e,"__wrapped__"))return or(e)}return new L(e)}m.prototype=ar.prototype;m.prototype.constructor=m;var N=O;N&&N.iterator;var S={},pr={get exports(){return S},set exports(e){S=e}};function ur(e,r,t,a){var n=-1,i=e==null?0:e.length;for(a&&i&&(t=e[++n]);++n<i;)t=r(t,e[n],n,e);return t}var cr=ur,dr=h,fr=R,hr=cr;function mr(e,r){var t=e;return t instanceof dr&&(t=t.value()),hr(r,function(a,n){return n.func.apply(n.thisArg,fr([a],n.args))},t)}var vr=mr,br=vr;function gr(){return br(this.__wrapped__,this.__actions__)}var j=gr;(function(e){e.exports=j})(pr);var A={},yr={get exports(){return A},set exports(e){A=e}};(function(e){e.exports=j})(yr);const xr=()=>{const{role:e,permissions:r}=z().props,{data:t,setData:a,errors:n,post:i,processing:_}=V({name:e.name,permissions:e.permissions&&e.permissions.map(({id:s},p)=>s)||[],_method:"PUT"}),l=s=>{s.preventDefault(),i(route("role.update",e.id))},P=r&&r.length?r.map(s=>({value:s.id,label:s.name})):[],k=(s,p)=>{if(s){let u=[...t.permissions,p];a("permissions",u)}else{const u=t.permissions.filter(F=>F!==p);a("permissions",u)}};return c("div",{children:[o("div",{children:c("h1",{className:"mb-4 text-3xl font-bold",children:[o(E,{href:route("role.index"),className:"text-indigo-600 hover:text-indigo-700",children:"Role"}),o("span",{className:"font-medium text-indigo-600",children:" /"}),"Create"]})}),o("div",{className:"w-full overflow-hidden bg-white rounded shadow",children:c("form",{name:"createForm",onSubmit:l,children:[o("div",{className:"flex flex-wrap p-8 -mb-8 -mr-6",children:o(M,{className:"w-full pb-8 pr-6",label:"Name",name:"name",errors:n.name,value:t.name,onChange:s=>a("name",s.target.value)})}),o("div",{className:"flex flex-wrap p-8 -mb-8 -mr-6",children:P.map((s,p)=>o("div",{className:"w-full pb-8 pr-6 md:w-1/2 lg:w-1/4",children:c("label",{className:"flex items-center mt-6 select-none",htmlFor:`permission-${s.value}`,children:[o("input",{name:"permission",id:`permission-${s.value}`,className:"mr-1",type:"checkbox",checked:t.permissions.includes(s.value),onChange:u=>k(u.target.checked,s.value)}),o("span",{className:"text-sm",children:s.label})]})},p))}),o("div",{className:"flex items-center justify-end px-8 py-4 bg-gray-100 border-t border-gray-200",children:o(H,{loading:_,type:"submit",className:"btn-indigo",children:"Update Role"})})]})})]})};xr.layout=e=>o(D,{title:"Create Role",children:e});export{xr as default};
