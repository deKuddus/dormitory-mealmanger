import{_ as Y,r as o,j as t,a as e,f as _,g}from"./app-523ce712.js";import{L as I}from"./MemberLayout-30547411.js";import{I as b}from"./BottomHeader-7b0964c6.js";import{h as N}from"./moment-fbc5633a.js";import B from"./MealEditModal-18f737e6.js";import"./index-2e4736b8.js";import"./TextInput-92320638.js";import"./transition-ac0bb0ac.js";const L=()=>{const{auth:l,meals:m,mealCharge:v,due:y,totalCost:w,fixedCost:M,totalMeal:C,todaysMeal:p}=Y().props,[k,D]=o.useState(l.user.meal_status===1),h={id:void 0,break_fast:0,lunch:0,dinner:0,created_at:"",user:"",user_id:0},[x,c]=o.useState(h),[u,n]=o.useState(!1),j=a=>(D(a),g.post(route("user.meal.update"),{user_id:l.user.id,status:a})),T=(a,s,r,i,d)=>{c({id:a,break_fast:s,lunch:r,dinner:i,created_at:d}),n(!0)},E=()=>{g.post(route("user.meal.update.each"),x),n(!1),c(h)};return t("div",{children:[t("div",{className:"col-span-full mb-5",children:[e("h6",{className:"mb-4 text-xl font-bold border-b",children:"Meal"}),e("div",{className:"grid gap-4 lg:gap-8 md:grid-cols-1",children:e("div",{className:"relative p-6 rounded-xl bg-white shadow",children:e("div",{className:"space-y-2 text-white text-center",children:t("div",{className:"flex items-center justify-between space-x-2 ",children:[e("span",{className:"flex flex-col justify-left text-gray-900",children:e("span",{className:"text-xl font-medium",children:"Meal Status"})}),e("span",{children:t("label",{className:"relative inline-flex items-center mb-5 cursor-pointer",children:[e("input",{type:"checkbox",onChange:a=>j(a.target.checked),defaultChecked:k,className:"sr-only peer"}),e("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})})]})})})})]}),t("div",{className:"col-span-full mb-5 rounded-xl bg-white shadow",children:[t("div",{className:"flex items-center justify-between p-2",children:[e("div",{children:t("h6",{className:"mb-4 text-xl font-bold pt-4 px-4",children:["Stats of ",e("span",{className:"text-2xl",children:N().format("MMMM YYYY")})]})}),e(_,{href:route("user.meal.show"),className:"rounded border shadow p-4",children:e(b,{name:"FaEye"})})]}),t("div",{className:"grid gap-4 lg:gap-8 md:grid-cols-2 lg:grid-cols-2 p-5",children:[e("div",{className:"relative p-4 lg:p-6 rounded-xl bg-boxColor-300 ",children:e("div",{className:"flex items-center space-x-2 space-y-2 text-gray-900 text-sm md:text-md lg:text-xl font-medium ",children:t("div",{className:"text-xl px-4",children:[e("span",{className:"font-bold",children:"Today's Meal"}),t("span",{className:"text-blue-600 mr-4 ml-3",children:["Lunch : ",p.lunch_total]}),t("span",{className:"text-pink-600",children:["Dinner: ",p.dinner_total]})]})})}),e("div",{className:"relative p-4 lg:p-6 rounded-xl bg-boxColor-100 ",children:e("div",{className:"flex items-center space-x-2 space-y-2 text-gray-900 text-sm md:text-md lg:text-xl font-medium ",children:t("span",{children:["Total Meal : ",C]})})}),e("div",{className:"relative p-4 lg:p-6 rounded-xl bg-boxColor-200 ",children:e("div",{className:"flex items-center space-y-2 text-gray-900 space-x-2 text-sm md:text-md lg:text-xl font-medium ",children:t("span",{children:["Meal Charge : ",v," BDT"]})})}),e("div",{className:"relative p-4 lg:p-6 rounded-xl bg-boxColor-300 ",children:e("div",{className:"flex items-center space-y-2 text-gray-900 space-x-2 text-sm md:text-md lg:text-xl font-medium ",children:t("span",{children:["Total Cost : ",w," BDT"]})})}),e("div",{className:"relative p-4 lg:p-6 rounded-xl bg-boxColor-400 ",children:e("div",{className:"flex space-y-2 text-gray-900 items-center space-x-2  text-sm md:text-md lg:text-xl font-medium ",children:t("span",{children:["Fixed Cost : ",M," BDT"]})})}),e("div",{className:"relative p-4 lg:p-6 rounded-xl bg-boxColor-100 ",children:e("div",{className:"flex space-y-2 text-red-600 items-center space-x-2 text-sm md:text-md lg:text-xl font-medium ",children:t("span",{children:["Total Due : ",y," BDT"]})})})]})]}),e("div",{className:"col-span-full mb-5 rounded-xl bg-white shadow",children:e("div",{className:"grid gap-4 lg:gap-8 grid-cols-1 p-5",children:e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full whitespace-nowrap",children:[e("thead",{children:t("tr",{className:"font-bold text-left",children:[e("th",{className:"px-6 pt-5 pb-4",children:"Date"}),e("th",{className:"px-6 pt-5 pb-4",children:"Lunch"}),e("th",{className:"px-6 pt-5 pb-4",children:"Dinner"}),e("th",{className:"px-6 pt-5 pb-4",children:"Action"})]})}),e("tbody",{children:m&&m.map(({id:a,lunch:s,dinner:r,break_fast:i,is_editable:d,created_at:f},S)=>t("tr",{className:"hover:bg-gray-100 focus-within:bg-gray-100",children:[e("td",{className:"border",children:e("p",{className:"flex items-center px-6 py-4 focus:text-indigo-700 focus:outline-none",children:N(f).format("D MMM YY")})}),e("td",{className:"border",children:e("p",{className:"flex items-center px-6 py-4 focus:text-indigo-700 focus:outline-none",children:s})}),e("td",{className:"border",children:e("p",{className:"flex items-center px-6 py-4 focus:text-indigo-700 focus:outline-none",children:r})}),e("td",{className:"border w-px border-t p-3 whitespace-nowrap",children:e("div",{className:"flex items-center gap-2 justify-end",children:e("button",{disabled:!d,onClick:()=>T(a,i,s,r,f),className:`inline-flex ${d?"":" opacity-10"} items-center justify-center gap-0.5 focus:outline-none focus:underline`,children:e(b,{name:"FaEdit",className:"w-6 h-4 text-gray-400 hover:text-buttonColor-400 fill-current cursor-pointer"})})})})]},S))})]})})})}),u&&e(B,{mealData:x,setOpen:n,setMealData:c,open:u,handleConfirm:E})]})};L.layout=l=>e(I,{title:"Dashboard",children:l});export{L as default};
