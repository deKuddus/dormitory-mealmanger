import{_ as h,j as o,a as e,g as c,Q as f}from"./app-b424552e.js";import{L as x}from"./Layout-012bfe45.js";import{I as l}from"./BottomHeader-31b85409.js";import{P as b}from"./Pagination-a94d734b.js";import{h as y}from"./moment-fbc5633a.js";import"./index-2e4736b8.js";import"./utils-4fea7fd8.js";const N=()=>{const{tokens:r,app_url:g}=h().props,{data:a,meta:{links:i}}=r,d=t=>(confirm("Are you sure you want to delete this token?")&&c.post(route("tokens.destroy"),{id:t}),!0),p=t=>(window.isSecureContext&&navigator.clipboard?navigator.clipboard.writeText(route("register",t)):m(route("register",t)),f.success("Link copied")),m=t=>{const n=document.createElement("textarea");n.value=t,document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")}catch(s){console.error("Unable to copy to clipboard",s)}document.body.removeChild(n)};return o("div",{children:[e("h1",{className:"mb-8 text-3xl font-bold",children:"Retister Token"}),e("div",{className:"flex items-center justify-end mb-6",children:o("button",{className:"btn-indigo focus:outline-none",onClick:()=>c.post(route("tokens.create")),children:[e("span",{children:"Create"}),e("span",{className:"hidden md:inline",children:"Token"})]})}),e("div",{className:"overflow-x-auto bg-white rounded shadow p-3",children:o("table",{className:"w-full whitespace-nowrap",children:[e("thead",{children:o("tr",{className:"font-bold text-left",children:[e("th",{className:"px-6 pt-5 pb-4",children:"No"}),e("th",{className:"px-6 pt-5 pb-4",children:"Token"}),e("th",{className:"px-6 pt-5 pb-4",children:"Expire At"}),e("th",{className:"px-6 pt-5 pb-4",children:"Action"})]})}),o("tbody",{children:[a.map(({id:t,uuid:n,expire_at:s},u)=>o("tr",{className:"hover:bg-gray-100 focus-within:bg-gray-100",children:[e("td",{className:"border",children:e("p",{className:"flex items-center px-6 py-4 focus:text-indigo-700 focus:outline-none",children:u+1})}),e("td",{className:"border",children:e("p",{className:"flex items-center px-6 py-4 focus:text-indigo-700 focus:outline-none",children:n})}),e("td",{className:"border",children:e("p",{className:"flex items-center px-6 py-4 focus:text-indigo-700 focus:outline-none",children:y(s).format("Do MMMM YYYY")})}),e("td",{className:"w-px border px-4 py-3 whitespace-nowrap",children:o("div",{className:"flex items-center gap-4 justify-end",children:[e("button",{onClick:()=>p(n),className:"inline-flex items-center justify-center gap-0.5 focus:outline-none focus:underline",children:e(l,{name:"FaCopy",className:"w-6 h-4 text-gray-400 fill-current"})}),e("button",{onClick:()=>d(t),className:"inline-flex items-center justify-center gap-0.5 focus:outline-none focus:underline",children:e(l,{name:"FaTrashAlt",className:"w-6 h-4 text-gray-400 fill-current"})})]})})]},t)),a.length===0&&e("tr",{children:e("td",{className:"px-6 py-4 border",colSpan:"4",children:"No Token found."})})]})]})}),e(b,{links:i})]})};N.layout=r=>e(x,{title:"Register Token",children:r});export{N as default};
