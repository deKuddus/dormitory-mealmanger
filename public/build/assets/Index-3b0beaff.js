import{_ as z,j as o,a as e,F as N,f as A,g as d}from"./app-1efc3851.js";import{m as v,I as u,A as k}from"./AuthenticatedLayout-86a581d7.js";import{i as c}from"./utils-958ac037.js";import{T as w}from"./TablePageLayout-c35364e6.js";import{T,a as r}from"./TableData-8634702d.js";import{T as B}from"./TableAction-a44e6703.js";import"./Logo-25d59469.js";import"./dayjs.min-0f9b3cdb.js";import"./index-1f6f7bd3.js";import"./BreadcumbForTable-303d4af7.js";const j=()=>{const a=["No","Create Date","Amount","Description","Status","Member","Action"],{bazars:l,user_permissions:n}=z().props,{data:i,meta:{links:p}}=l,b=t=>(confirm("Are you sure you want to delete this bazar?")&&d.delete(route("bazar.destroy",t)),!0),f=t=>(confirm("Are you sure you want to approve this bazar?")&&d.post(route("bazar.approve"),{id:t}),!0);return o(w,{breadcumb_action:"Add New Bazar",breadcumb_name:"Bazars",pagination_links:p,breadcumb_link:route("bazar.create"),isShowButton:c("access::bazar-create",n),children:[e(T,{rows:a}),e("tbody",{children:i&&i.length?i.map(({id:t,amount:h,description:x,created_at:g,bazarSchedule:m,status:s},y)=>o("tr",{children:[e(r,{value:y+1}),e(r,{value:v(g).format("Do MMMM YYYY")}),e(r,{value:h}),e(r,{value:x}),e(r,{value:s===0?"Pending":s===1?"Approved":"N/A",className:`rounded-full ${s===0?"bg-danger text-danger":s===1?"bg-success success text-success":"bg-buttonColor-900 text-black dark:text-white"} text-center bg-opacity-10 py-1 px-3 text-sm `}),e(r,{value:e(F,{users:m&&m.users})}),o(B,{children:[s===0&&c("access::bazar-approve",n)&&e("button",{onClick:()=>f(t),className:"inline-flex items-center justify-center gap-0.5 focus:outline-none focus:underline",children:e(u,{name:"FaCheck",className:"w-6 h-4 text-gray-400 fill-current"})}),s!==2?o(N,{children:[c("access::bazar-edit",n)&&e(A,{href:route("bazar.edit",t),className:"inline-flex items-center justify-center gap-0.5 focus:outline-none focus:underline",children:e(u,{name:"FaEdit",className:"w-6 h-4 text-gray-400 fill-current"})}),c("access::bazar-delete",n)&&e("button",{onClick:()=>b(t),className:"inline-flex items-center justify-center gap-0.5 focus:outline-none focus:underline",children:e(u,{name:"FaTrashAlt",className:"w-6 h-4 text-gray-400 fill-current"})})]}):e("span",{className:"text-3xl",children:"ðŸ«£"})]})]},t)):e("tr",{children:e(r,{value:"No Data Found",colSpan:a.length,className:"text-center text-black dark:text-white"})})})]})},F=({users:a})=>e("p",{className:"flex items-center px-6 py-4 text-center ",children:a&&a.length>0?a.map(({full_name:l},n)=>e("span",{className:"bg-success bg-opacity-10 text-success  mr-2 py-1 px-3 rounded-full",children:l},n)):"N/A"});j.layout=a=>e(k,{title:"Bazars",children:a});export{j as default};
