import{r as h,_ as f,K as C,j as i,a,Q as x}from"./app-df5d1c32.js";import{A as S}from"./AuthenticatedLayout-2eb90bad.js";import"./index-0ee3514d.js";import{T as o}from"./TextInput-4859b021.js";import{S as d}from"./SelectInput-953dec26.js";import{d as w}from"./api-fedc18c6.js";import{F as A}from"./FromPageLayout-de7ed2af.js";import{M as I}from"./MultiSelect-d24a955a.js";import"./Logo-white-2a851e2e.js";import"./LoadingButton-f012a1fd.js";import"./defineProperty-30e2cf67.js";const D=()=>{const[m,p]=h.exports.useState([]),{roles:u,rooms:l}=f().props,{data:t,setData:n,errors:r,post:v,processing:g}=C({full_name:"",display_name:"",email:"",password:"",owner:"0",phone:"",present_address:"",permanent_address:"",nid:"",nid_type:"0",institution:"",company:"",status:"0",roles:[],is_admin:0,room_id:"",seat_id:""}),y=e=>{e.preventDefault(),v(route("user.store"))},b=u&&u.length?u.map(e=>({value:e.id,label:`${e.name}`})):[],_=async e=>{const{response:s,error:c}=await w(`/api/v1/seat/${e}`,"get");c?(x.error(c.data.message),p([])):s.data&&s.data.length>0?p(s.data):p([])};return h.exports.useEffect(()=>{var e;l&&l.length&&_((e=l[0])==null?void 0:e.id)},[l]),i(A,{breadcumb_link:route("user.index"),breadcumb_name:"Member",breadcumb_action:"Create",loading:g,button_text:"Create Member",handlFormSubmit:y,children:[a(o,{label:"Full Name",name:"full_name",errors:r.full_name,value:t.full_name,onChange:e=>n("full_name",e.target.value)}),a(o,{label:"Display Name",name:"display_name",errors:r.display_name,value:t.display_name,onChange:e=>n("display_name",e.target.value)}),a(o,{label:"Email",name:"email",type:"email",errors:r.email,value:t.email,onChange:e=>n("email",e.target.value)}),a(o,{label:"Password",name:"password",type:"password",errors:r.password,value:t.password,onChange:e=>n("password",e.target.value)}),a(o,{label:"Phone",name:"phone",type:"number",errors:r.phone,value:t.phone,onChange:e=>n("phone",e.target.value)}),a(o,{label:"Present Address",name:"present_address",type:"text",errors:r.present_address,value:t.present_address,onChange:e=>n("present_address",e.target.value)}),a(o,{label:"Permanent Address",name:"permanent_address",type:"text",errors:r.permanent_address,value:t.permanent_address,onChange:e=>n("permanent_address",e.target.value)}),a(o,{label:"NID",name:"nid",type:"text",errors:r.nid,value:t.nid,onChange:e=>n("nid",e.target.value)}),i(d,{label:"NID Type",name:"nid_type",errors:r.nid_type,value:t.nid_type,onChange:e=>n("nid_type",e.target.value),children:[a("option",{value:"1",children:"National ID"}),a("option",{value:"0",children:"Birth Certificate"})]}),a(o,{label:"Institution",name:"institution",type:"text",errors:r.institution,value:t.institution,onChange:e=>n("institution",e.target.value)}),a(o,{label:"Company",name:"company",type:"text",errors:r.company,value:t.company,onChange:e=>n("company",e.target.value)}),i(d,{label:"Status",name:"status",errors:r.status,value:t.status,onChange:e=>n("status",e.target.value),children:[a("option",{value:"1",children:"Active"}),a("option",{value:"0",children:"InActive"})]}),i(d,{label:"Room",name:"room_id",errors:r.room_id,value:t.room_id,onChange:e=>{n("room_id",e.target.value),_(e.target.value)},children:[a("option",{children:"Select Room"}),l&&l.map((e,s)=>a("option",{defaultValue:t.room_id,value:e.id,children:e.name},s))]}),i(d,{label:"Seat",name:"seat_id",errors:r.seat_id,value:t.seat_id,onChange:e=>{n("seat_id",e.target.value)},children:[a("option",{children:"Select Seat"}),m&&m.map((e,s)=>a("option",{defaultValue:t.seat_id,value:e.id,children:e.seat_no},s))]}),i(d,{label:"Is Admin",name:"is_admin",errors:r.is_admin,value:t.is_admin,onChange:e=>n("is_admin",e.target.value),children:[a("option",{value:"1",children:"Yes"}),a("option",{value:"0",children:"No"})]}),a(I,{label:"Roles",options:b,column:"roles",name:"",onChangeHandler:n})]})};D.layout=m=>a(S,{title:"Create User",children:m});export{D as default};
