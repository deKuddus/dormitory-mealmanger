import{_ as y,j as s,a as e,f as r,g}from"./app-2dde695b.js";import{L as w}from"./Layout-8ec69a49.js";import{I as o}from"./BottomHeader-ef5b3363.js";import{P as I}from"./Pagination-af69862a.js";import{i as d}from"./utils-9aac24b3.js";import{P as p,A as h}from"./issueStatus-369c87ae.js";import"./index-2e4736b8.js";const j=()=>{const{issues:c,user_permissions:l}=y().props,{data:m,meta:{links:f}}=c,x=t=>(confirm("Are you sure you want to delete this issue?")&&g.delete(route("issue.destroy",t)),!0);return s("div",{children:[e("h1",{className:"mb-8 text-3xl font-bold",children:"Issues"}),e("div",{className:"flex items-center justify-end mb-6",children:s(r,{className:"btn-indigo focus:outline-none",href:route("issue.create"),children:[e("span",{children:"Create"}),e("span",{className:"hidden md:inline",children:" Issue"})]})}),e("div",{className:"overflow-x-auto bg-white rounded shadow p-3",children:s("table",{className:"w-full whitespace-wrap table-auto",children:[e("thead",{children:s("tr",{className:"font-bold text-left",children:[e("th",{className:"px-6 pt-5 pb-4",children:"No"}),e("th",{className:"px-6 pt-5 pb-4",children:"Title"}),e("th",{className:"px-6 pt-5 pb-4",children:"Resolver"}),e("th",{className:"px-6 pt-5 pb-4",children:"Assigned By"}),e("th",{className:"px-6 pt-5 pb-4",children:"Status"}),e("th",{className:"px-6 pt-5 pb-4",children:"Action"})]})}),e("tbody",{children:m?m.map(({id:t,title:N,description:A,status:a,issuer:u,assigner:n,resolver:i},b)=>s("tr",{className:"hover:bg-gray-100 focus-within:bg-gray-100",children:[e("td",{className:"border",children:e("p",{className:"flex items-center px-6 py-4 focus:text-indigo-700 focus:outline-none",children:b+1})}),e("td",{className:"border",children:s("p",{className:"flex items-center px-6 py-4 leading-6 focus:text-indigo-700 focus:outline-none",children:[N," ",e("span",{className:"text-red-600 mx-2",children:" Issued By "})," ",u.first_name," ",u.last_name]})}),e("td",{className:"border",children:s("p",{className:"flex items-center px-6 py-4 leading-6 focus:text-indigo-700 focus:outline-none",children:[i==null?void 0:i.first_name," ",i==null?void 0:i.last_name]})}),e("td",{className:"border",children:s("p",{className:"flex items-center px-6 py-4 leading-6 focus:text-indigo-700 focus:outline-none",children:[n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]})}),e("td",{className:"border",children:e("p",{className:`flex items-center px-6 py-4 focus:text-indigo-700 focus:outline-none ${a===p?"text-red-600":a===h?"text-blue-500":"text-green-500"}`,children:a===p?"Pending":a===h?"Assigned":"Resolved"})}),e("td",{className:"w-px border px-4 py-3 whitespace-nowrap",children:s("div",{className:"flex items-center gap-4 justify-end",children:[d("access::issue-edit",l)&&e(r,{href:route("issue.edit",t),className:"inline-flex items-center justify-center gap-0.5 focus:outline-none focus:underline",children:e(o,{name:"FaEdit",className:"w-6 h-4 text-gray-400 fill-current"})}),d("access::issue-show",l)&&e(r,{href:route("issue.show",t),className:"inline-flex items-center justify-center gap-0.5 focus:outline-none focus:underline",children:e(o,{name:"FaEye",className:"w-6 h-4 text-gray-400 fill-current"})}),d("access::issue-delete",l)&&e("button",{onClick:()=>x(t),className:"inline-flex items-center justify-center gap-0.5 focus:outline-none focus:underline",children:e(o,{name:"FaTrashAlt",className:"w-6 h-4 text-gray-400 fill-current"})})]})})]},t)):e("tr",{children:e("td",{className:"px-6 py-4 border",colSpan:"4",children:"No Issue found."})})})]})}),e(I,{links:f})]})};j.layout=c=>e(w,{title:"Issues",children:c});export{j as default};
