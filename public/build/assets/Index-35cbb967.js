import{_ as M,r as N,j as a,a as e,f as y,g as d}from"./app-d964dcbb.js";import{m as u,I as p,A as T}from"./AuthenticatedLayout-4de9b15e.js";import{S as w}from"./SelectInput-ddc62679.js";import{c as A,i as f}from"./utils-0da3b2c9.js";import{T as C}from"./TablePageLayout-af0a13d0.js";import{T as Y,a as n}from"./TableData-56b234cd.js";import{T as S}from"./TableAction-a3c1e08c.js";import"./Logo-white-2a851e2e.js";import"./dayjs.min-05106625.js";import"./index-1f6f7bd3.js";import"./BreadcumbForTable-f2c25f78.js";const j=()=>{const r=["No","Name","Status","Meal","Action"],{users:l,user_permissions:c}=M().props,[h,x]=N.useState(u().format("MMM-YYYY")),i=A(),b=t=>{if(console.log(t),t)return d.get(route("meals.index"),{month:t},{replace:!0,preserveState:!0})},g=t=>{confirm("Are you sure to add meal for the selected user?")&&d.post(route("meal.add"),{userId:t})};return a(C,{breadcumb_action:"",breadcumb_name:"Meals",pagination_links:"",breadcumb_link:"",isShowButton:!1,additionalComponent:e(()=>a("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[a("div",{className:"flex items-center",children:[a("span",{className:"text-xl p-3",children:["Today's Meal: ",e("span",{className:"font-bold",children:"50"})]}),a("span",{className:"text-xl p-3",children:["Total Meal :"," ",e("span",{className:"font-bold text-buttonColor-400",children:"50"})]})]}),e("div",{className:"flex items-center",children:e("div",{className:"relative z-30 w-64 px-4 py-6 mt-2",children:e(w,{label:"Month",name:"month",value:h,onChange:t=>{x(t.target.value),b(t.target.value)},children:i&&i.map((t,s)=>e("option",{value:t,defaultValue:u().format("MMMM-YYYY"),children:t},s))})})})]}),{}),children:[e(Y,{rows:r}),e("tbody",{children:l?l.map(({id:t,display_name:s,meals:m,status:o,email:k},v)=>a("tr",{children:[e(n,{value:v+1}),e(n,{value:s}),e(n,{value:o===1?"Active":o===0?"Inactive":"Closed",className:`rounded-full ${o===1?"bg-success text-success":"bg-danger text-danger"} text-center bg-opacity-10 py-1 px-3 text-sm `}),e(n,{value:m[0]||0}),a(S,{children:[!m[0]&&f("access::meal-add",c)&&e("button",{onClick:()=>g(t),className:"inline-flex items-center justify-center gap-0.5 focus:outline-none focus:underline",children:e(p,{name:"FaEdit",className:"w-6 h-4 text-gray-400 hover:text-buttonColor-400 fill-current"})}),f("access::meal-show",c)&&e(y,{href:route("meals.show",t),className:"inline-flex items-center justify-center gap-0.5 focus:outline-none focus:underline",children:e(p,{name:"FaEye",className:"w-6 h-4 text-gray-400 hover:text-buttonColor-400 fill-current"})})]})]},t)):e("tr",{children:e(n,{value:"No Data Found",colSpan:r.length,className:"text-center text-black dark:text-white"})})})]})};j.layout=r=>e(T,{title:"Meals",children:r});export{j as default};
