import{_ as M,r as y,j as s,a as e,f as N,g as u}from"./app-9b1aff9a.js";import{m as d,I as p,A}from"./AuthenticatedLayout-3ba54b4d.js";import{T}from"./TablePageLayout-777ecf8a.js";import{S as Y}from"./SelectInput-2f1e81e7.js";import{T as C}from"./TableAction-3953310b.js";import{T as w,a}from"./TableData-ed66d66f.js";import{c as S,i as f}from"./utils-f35daa2d.js";import"./Logo-white-2a851e2e.js";import"./index-0ee3514d.js";import"./BreadcumbForTable-c40a38a9.js";import"./dayjs.min-35316166.js";const j=()=>{const r=["No","Name","Status","Meal","Action"],{users:l,user_permissions:i}=M().props,[h,x]=y.exports.useState(d().format("MMM-YYYY")),c=S(),g=t=>{if(console.log(t),t)return u.get(route("meals.index"),{month:t},{replace:!0,preserveState:!0})},b=t=>{confirm("Are you sure to add meal for the selected user?")&&u.post(route("meal.add"),{userId:t})};return s(T,{breadcumb_action:"",breadcumb_name:"Meals",pagination_links:"",breadcumb_link:"",isShowButton:!1,additionalComponent:e(()=>e("div",{className:"flex items-center justify-end gap-3",children:e("div",{className:"flex items-center",children:e("div",{className:"relative z-30 w-64 px-4 py-6 mt-2",children:e(Y,{label:"Month",name:"month",value:h,onChange:t=>{x(t.target.value),g(t.target.value)},children:c&&c.map((t,n)=>e("option",{value:t,defaultValue:d().format("MMMM-YYYY"),children:t},n))})})})}),{}),children:[e(w,{rows:r}),e("tbody",{children:l?l.map(({id:t,display_name:n,meals:m,status:o,email:k},v)=>s("tr",{children:[e(a,{value:v+1}),e(a,{value:n}),e(a,{value:o===1?"Active":o===0?"Inactive":"Closed",className:`rounded-full ${o===1?"bg-success text-success":"bg-danger text-danger"} text-center bg-opacity-10 py-1 px-3 text-sm `}),e(a,{value:m[0]||0}),s(C,{children:[!m[0]&&f("access::meal-add",i)&&e("button",{onClick:()=>b(t),className:"inline-flex items-center justify-center gap-0.5 focus:outline-none focus:underline",children:e(p,{name:"FaEdit",className:"w-6 h-4 text-gray-400 hover:text-buttonColor-400 fill-current"})}),f("access::meal-show",i)&&e(N,{href:route("meals.show",t),className:"inline-flex items-center justify-center gap-0.5 focus:outline-none focus:underline",children:e(p,{name:"FaEye",className:"w-6 h-4 text-gray-400 hover:text-buttonColor-400 fill-current"})})]})]},t)):e("tr",{children:e(a,{value:"No Data Found",colSpan:r.length,className:"text-center text-black dark:text-white"})})})]})};j.layout=r=>e(A,{title:"Meals",children:r});export{j as default};
