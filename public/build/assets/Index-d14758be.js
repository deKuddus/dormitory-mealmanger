import{_ as M,r as y,j as l,a as e,f as N,g as u}from"./app-d0c045e2.js";import{m as d,I as p,A}from"./AuthenticatedLayout-5682738f.js";import{S as T}from"./SelectInput-df480c32.js";import{c as Y,i as f}from"./utils-6447ce2c.js";import{T as C}from"./TablePageLayout-5ddff247.js";import{T as w,a}from"./TableData-cad41351.js";import{T as S}from"./TableAction-2efc548b.js";import"./Logo-white-2a851e2e.js";import"./dayjs.min-80ee8b7d.js";import"./index-1f6f7bd3.js";import"./BreadcumbForTable-3837e5f8.js";const j=()=>{const r=["No","Name","Status","Meal","Action"],{users:i,user_permissions:c}=M().props,[h,x]=y.useState(d().format("MMM-YYYY")),m=Y(),g=t=>{if(console.log(t),t)return u.get(route("meals.index"),{month:t},{replace:!0,preserveState:!0})},b=t=>{confirm("Are you sure to add meal for the selected user?")&&u.post(route("meal.add"),{userId:t})};return l(C,{breadcumb_action:"",breadcumb_name:"Meals",pagination_links:"",breadcumb_link:"",isShowButton:!1,additionalComponent:e(()=>e("div",{className:"flex items-center justify-end gap-3",children:e("div",{className:"flex items-center",children:e("div",{className:"relative z-30 w-64 px-4 py-6 mt-2",children:e(T,{label:"Month",name:"month",value:h,onChange:t=>{x(t.target.value),g(t.target.value)},children:m&&m.map((t,n)=>e("option",{value:t,defaultValue:d().format("MMMM-YYYY"),children:t},n))})})})}),{}),children:[e(w,{rows:r}),e("tbody",{children:i?i.map(({id:t,display_name:n,meals:o,status:s,email:k},v)=>l("tr",{children:[e(a,{value:v+1}),e(a,{value:n}),e(a,{value:s===1?"Active":s===0?"Inactive":"Closed",className:`rounded-full ${s===1?"bg-success text-success":"bg-danger text-danger"} text-center bg-opacity-10 py-1 px-3 text-sm `}),e(a,{value:o[0]||0}),l(S,{children:[(o[0]===0||o[0]==="0")&&f("access::meal-add",c)&&e("button",{onClick:()=>b(t),className:"inline-flex items-center justify-center gap-0.5 focus:outline-none focus:underline",children:e(p,{name:"FaEdit",className:"w-6 h-4 text-gray-400 hover:text-buttonColor-400 fill-current"})}),f("access::meal-show",c)&&e(N,{href:route("meals.show",t),className:"inline-flex items-center justify-center gap-0.5 focus:outline-none focus:underline",children:e(p,{name:"FaEye",className:"w-6 h-4 text-gray-400 hover:text-buttonColor-400 fill-current"})})]})]},t)):e("tr",{children:e(a,{value:"No Data Found",colSpan:r.length,className:"text-center text-black dark:text-white"})})})]})};j.layout=r=>e(A,{title:"Meals",children:r});export{j as default};
