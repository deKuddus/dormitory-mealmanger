import{_ as f,K as v,j as i,a,n as b,f as _}from"./app-b424552e.js";import{L as N}from"./Layout-012bfe45.js";import{L as y}from"./LoadingButton-4650e1f9.js";import{T as n}from"./TextInput-acb51a5b.js";import{S as m}from"./SelectInput-640692d3.js";import{S as x}from"./react-select.esm-53d7c0ba.js";import{i as c}from"./utils-4fea7fd8.js";import{l as C}from"./index-ca7b0d19.js";import"./index-2e4736b8.js";import"./BottomHeader-31b85409.js";import"./_baseIsEqual-ca9435cb.js";import"./_equalByTag-35b780b0.js";import"./_getTag-f9b0ec05.js";import"./_isIndex-78cc234f.js";const I=()=>{const{user:l,roles:o,user_permissions:d}=f().props,{data:s,setData:t,errors:r,post:h,processing:w}=v({first_name:l.first_name||"",last_name:l.last_name||"",email:l.email||"",password:"",phone:l.phone||"",present_address:l.present_address||"",permanent_address:l.permanent_address||"",nid:l.nid||"",nid_type:l.nid_type||"0",institution:l.institution||"",company:l.company||"",status:l.status||"0",roles:l.roles&&l.roles.map(({id:e,name:u},P)=>e)||[],_method:"PUT",is_admin:l.is_admin,note:l.note}),g=e=>{e.preventDefault(),h(route("user.update",l.id))},p=o&&o.length?o.map(e=>({value:e.id,label:`${e.name}`})):[];return i("div",{children:[a(b,{title:`${s.first_name} ${s.last_name}`}),a("div",{className:"flex justify-start max-w-lg mb-8",children:i("h1",{className:"text-3xl font-bold",children:[a(_,{href:route("user.index"),className:"text-indigo-600 hover:text-indigo-700",children:"Users"}),a("span",{className:"mx-2 font-medium text-indigo-600",children:"/"}),s.first_name," ",s.last_name]})}),a("div",{className:"w-full overflow-hidden bg-white rounded shadow",children:i("form",{onSubmit:g,children:[i("div",{className:"flex flex-wrap p-8 -mb-8 -mr-6",children:[a(n,{className:"w-full pb-8 pr-6 md:w-1/2 lg:w-1/3",label:"First Name",name:"first_name",errors:r.first_name,value:s.first_name,onChange:e=>t("first_name",e.target.value)}),a(n,{className:"w-full pb-8 pr-6 md:w-1/2 lg:w-1/3",label:"Last Name",name:"last_name",errors:r.last_name,value:s.last_name,onChange:e=>t("last_name",e.target.value)}),a(n,{className:"w-full pb-8 pr-6 md:w-1/2 lg:w-1/3",label:"Email",name:"email",type:"email",errors:r.email,value:s.email,onChange:e=>t("email",e.target.value)}),c("access::password-change",d)&&a(n,{className:"w-full pb-8 pr-6 md:w-1/2 lg:w-1/3",label:"Password",name:"password",type:"password",errors:r.password,value:s.password,onChange:e=>t("password",e.target.value)}),a(n,{className:"w-full pb-8 pr-6 md:w-1/2 lg:w-1/3",label:"Phone",name:"phone",type:"number",errors:r.phone,value:s.phone,onChange:e=>t("phone",e.target.value)}),a(n,{className:"w-full pb-8 pr-6 md:w-1/2 lg:w-1/3",label:"Present Address",name:"present_address",type:"text",errors:r.present_address,value:s.present_address,onChange:e=>t("present_address",e.target.value)}),a(n,{className:"w-full pb-8 pr-6 md:w-1/2 lg:w-1/3",label:"Permanent Address",name:"permanent_address",type:"text",errors:r.permanent_address,value:s.permanent_address,onChange:e=>t("permanent_address",e.target.value)}),a(n,{className:"w-full pb-8 pr-6 md:w-1/2 lg:w-1/3",label:"NID",name:"nid",type:"text",errors:r.nid,value:s.nid,onChange:e=>t("nid",e.target.value)}),i(m,{className:"w-full pb-8 pr-6 md:w-1/2 lg:w-1/3",label:"NID Type",name:"nid_type",errors:r.nid_type,value:s.nid_type,onChange:e=>t("nid_type",e.target.value),children:[a("option",{value:"1",children:"National ID"}),a("option",{value:"0",children:"Birth Certificate"})]}),a(n,{className:"w-full pb-8 pr-6 md:w-1/2 lg:w-1/3",label:"Institution",name:"institution",type:"text",errors:r.institution,value:s.institution,onChange:e=>t("institution",e.target.value)}),a(n,{className:"w-full pb-8 pr-6 md:w-1/2 lg:w-1/3",label:"Company",name:"company",type:"text",errors:r.company,value:s.company,onChange:e=>t("company",e.target.value)}),i(m,{className:"w-full pb-8 pr-6 md:w-1/2 lg:w-1/3",label:"Status",name:"status",errors:r.status,value:s.status,onChange:e=>t("status",e.target.value),children:[a("option",{value:"1",children:"Active"}),a("option",{value:"0",children:"InActive"})]}),i(m,{className:"w-full pb-8 pr-6 md:w-1/2 lg:w-1/3",label:"Is Admin",name:"is_admin",errors:r.is_admin,value:s.is_admin,onChange:e=>t("is_admin",e.target.value),children:[a("option",{value:"1",children:"Yes"}),a("option",{value:"0",children:"No"})]}),i("div",{className:"w-full pb-8 pr-6 md:w-1/2 lg:w-1/3",children:[a("label",{className:"form-label",children:"Roles"}),a(x,{isMulti:!0,isClearable:!0,classNamePrefix:"react-select",options:p,value:p.filter(e=>s.roles.includes(e.value)),onChange:e=>t("roles",e&&e.map(u=>u.value)||[])}),r&&r.roles&&a("div",{className:"form-error",children:r.roles})]}),c("access::user-note-edit",d)&&i("div",{className:"w-full pb-8 pr-6 mb-12",children:[a("label",{className:"form-label",children:"Notes"}),a(C,{className:"h-48 ",theme:"snow",value:s.note,onChange:e=>t("note",e)})]})]}),a("div",{className:"flex items-center justify-end px-8 py-4 bg-gray-100 border-t border-gray-200",children:a(y,{loading:w,type:"submit",className:"btn-indigo",children:"Update User"})})]})})]})};I.layout=l=>a(N,{children:l});export{I as default};
